<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.graduatestudent.mapper.ArticleAdditionalInformationMapper">

    <!-- 通用查询映射结果 -->
    <resultMap id="BaseResultMap" type="com.example.graduatestudent.entity.ArticleAdditionalInformation">
        <id column="article_id" property="articleId" />
        <result column="collection_number" property="collectionNumber" />
        <result column="likes_number" property="likesNumber" />
        <result column="hits_number" property="hitsNumber" />
    </resultMap>

    <!-- 通用查询结果列 -->
    <sql id="Base_Column_List">
        article_id, collection_number, likes_number, hits_number
    </sql>
    <update id="colAdd1">
        update article_additional_information
        <set>
            collection_number = collection_number + 1
        </set>
        where article_id = #{articleId};
    </update>
    <update id="colReduce1">
        update article_additional_information
        <set>
            collection_number = collection_number - 1
        </set>
        where article_id = #{articleId};
    </update>
    <update id="praAdd1">
        update article_additional_information
        <set>
            likes_number = likes_number + 1
        </set>
        where article_id = #{articleId};
    </update>
    <update id="praReduce1">
        update article_additional_information
        <set>
            likes_number = likes_number - 1
        </set>
        where article_id = #{articleId};
    </update>
</mapper>
